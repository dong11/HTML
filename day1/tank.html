<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body onkeydown="test()">

    <canvas id="c" width="400" height="300" style="background: #bbbbbb"></canvas>
    <p>
        <button onclick="tank()">画Tank</button>
    </p>
</body>
</html>

<script type="text/javascript">
    function tank(){
        //定义一个位置变量
        var heroX = 80;
        var heroY = 80;

        var c = document.getElementById("c");
        var cxt = c.getContext("2d");

        cxt.fillStyle="#BA9658";
        //左边的矩形
        cxt.fillRect(heroX,heroY,5,30);
        //右边的矩形
        cxt.fillRect(heroX+17,heroY,5,30);
        //画中间的矩形
        cxt.fillRect(heroX+6,heroY+5,10,20);
        //画出坦克的盖子
        cxt.fillStyle="#FEF26E";
        cxt.arc(heroX+11,heroY+15,5,0,360,true);
        cxt.fill();
        //画出炮筒
        cxt.strokeStyle="#FEF26E";
        cxt.lineWidth=1.5;
        cxt.beginPath();
        cxt.moveTo(heroX+11,heroY);
        cxt.lineTo(heroX+11,heroY+15);
        cxt.closePath();
        cxt.stroke();
    }

    //现在按键盘上ASDW移动小球
    //说明：当我们按下一个键，实际上触发了一个onkeydown事件
    function test(){
        var code = event.keyCode;  //键盘上字幕的ASCII码
        switch(code){
            case 87:
                ballY = ballY - 10;
                break;
            case 68:
                ballX = ballX + 10;
                break;
            case 83:
                ballY = ballY + 10;
                break;
            case 65:
                ballX = ballX - 10;
                break;
        }
        //重新绘制
        drawBall();
    }
</script>